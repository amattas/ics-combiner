{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"ICS Combiner","text":"<p>ICS Combiner is a FastAPI service that merges multiple iCalendar (ICS) feeds into a single combined calendar, with optional per\u2011calendar transforms and Redis\u2011backed caching.</p> <p>Use this documentation to:</p> <ul> <li>Understand what the service does</li> <li>Get started running it locally or via Docker</li> <li>Configure environment variables and calendar sources</li> <li>Explore the available HTTP endpoints and query parameters</li> </ul>"},{"location":"configuration/","title":"Configuration","text":"<p>ICS Combiner is configured via environment variables. These are typically set in an <code>.env.local</code> file for local development or Docker.</p>"},{"location":"configuration/#core-settings","title":"Core Settings","text":"<ul> <li><code>ICS_API_KEY</code> \u2013 API key to enable path\u2011based authentication (optional for local/dev)</li> <li><code>MD5_SALT</code> \u2013 Optional salt used when computing the API path hash</li> </ul>"},{"location":"configuration/#calendar-sources","title":"Calendar Sources","text":"<ul> <li> <p><code>ICS_SOURCES</code> \u2013 JSON array of calendar configs. Each object may include:</p> </li> <li> <p><code>Id</code> (required, int): unique numeric ID per calendar</p> </li> <li><code>Url</code> (required, string): ICS feed URL</li> <li><code>Duration</code> (optional, minutes): override event duration when DTSTART is datetime</li> <li><code>PadStartMinutes</code> (optional, minutes): prepend minutes and extend duration accordingly</li> <li><code>Prefix</code> (optional, string): prefix for SUMMARY</li> <li><code>MakeUnique</code> (optional, bool): force UID uniqueness per calendar</li> <li><code>FilterDuplicates</code> (optional, bool): de\u2011duplicate events by UID</li> <li> <p><code>RefreshSeconds</code> (optional, int): cache TTL for this calendar\u2019s source ICS</p> </li> <li> <p><code>ICS_NAME</code> \u2013 Combined calendar display name</p> </li> <li><code>ICS_DAYS_HISTORY</code> \u2013 Days of history to include (int)</li> </ul>"},{"location":"configuration/#redis-cache","title":"Redis Cache","text":"<p>For Redis\u2011backed caching of source ICS feeds:</p> <ul> <li><code>REDIS_HOST</code> \u2013 Redis hostname</li> <li><code>REDIS_SSL_PORT</code> \u2013 Redis SSL port (default: <code>6380</code>)</li> <li> <p><code>REDIS_KEY</code> \u2013 Redis access key</p> </li> <li> <p><code>CACHE_TTL_ICS_SOURCE_DEFAULT</code> \u2013 Default TTL (seconds) for source ICS caching</p> </li> <li><code>CACHE_TTL_ICS_SOURCE_&lt;ID&gt;</code> \u2013 Per\u2011calendar TTL override (seconds) for source ID</li> </ul> <p>When configured, ICS Combiner will use Redis to cache fetched ICS files to reduce load on upstream calendar providers.</p>"},{"location":"endpoints/","title":"Endpoints","text":"<p>ICS Combiner exposes a small set of HTTP endpoints for health checks and combined calendar retrieval.</p>"},{"location":"endpoints/#health","title":"Health","text":"<ul> <li><code>GET /app/health</code> \u2013 Returns basic health status (no authentication required).</li> </ul>"},{"location":"endpoints/#combined-calendar","title":"Combined Calendar","text":"<ul> <li><code>GET /app/{ICS_API_KEY}/{md5_hash}/ics/combined</code></li> </ul> <p>Returns the combined ICS calendar built from the configured <code>ICS_SOURCES</code>.</p> <p>Query parameters:</p> <ul> <li><code>show</code>: optional comma\u2011separated list of calendar IDs to include (e.g. <code>show=1,2</code>).</li> <li><code>hide</code>: optional comma\u2011separated list of calendar IDs to exclude (e.g. <code>hide=3</code>).</li> </ul> <p>Authentication:</p> <ul> <li><code>ICS_API_KEY</code> is the API key configured via environment variable.</li> <li><code>md5_hash</code> is computed from <code>ICS_API_KEY</code> and optional <code>MD5_SALT</code> using the same path\u2011based auth scheme as the MCP servers.</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide walks through running the ICS Combiner service locally and with Docker.</p>"},{"location":"getting-started/#run-locally","title":"Run Locally","text":"<ol> <li>Create and populate your environment file:</li> </ol> <p><code>bash    cp .env.example .env.local    # edit .env.local with your ICS sources, Redis, and auth settings</code></p> <ol> <li>Install dependencies:</li> </ol> <p><code>bash    pip install -r requirements.txt</code></p> <ol> <li>Start the FastAPI app with Uvicorn:</li> </ol> <p><code>bash    python -m uvicorn src.server:app --host 0.0.0.0 --port 8080</code></p> <ol> <li>Check the health endpoint:</li> </ol> <p><code>bash    curl http://localhost:8080/app/health</code></p>"},{"location":"getting-started/#run-with-docker","title":"Run with Docker","text":"<ol> <li>Build the image:</li> </ol> <p><code>bash    docker build -t ics-combiner .</code></p> <ol> <li>Run the container:</li> </ol> <p><code>bash    docker run --env-file .env.local -p 8080:8080 ics-combiner</code></p> <ol> <li>Access endpoints via <code>http://localhost:8080</code>.</li> </ol>"}]}